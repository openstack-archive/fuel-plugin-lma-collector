[<%= @title %>_filter]
type = "SandboxFilter"
filename = "<%= @filename %>"
preserve_data = <%= @preserve_data %>
message_matcher = "<%= @message_matcher %>"
<% if @module_directory -%>
module_directory = "<%= @module_directory %>;/usr/share/heka/lua_modules"
<% end -%>
<% if @ticker_interval %>
ticker_interval = <%= @ticker_interval %>
<% end %>

<% if @config.size() > 0 %>
[<%= @title %>_filter.config]
<% @config.each do |k,v| %>
<%   next if v.nil? or v == :undef -%>
    <%= k %> = <%= v.is_a?(String) ? "'#{v}'" : v %>
<%  end %>
<% end %>
